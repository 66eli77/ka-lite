<div class="row">
    <div class="col-md-6 col-xs-12">
        <ul id="legend">
            <li class="legend"><div class="partial"></div><span>{{_ "In Progress" }}</span></li>
            <li class="legend"><div class="complete"></div><span>{{_ "Completed" }}</span></li>
            <li class="legend"><div class="struggle"></div><span>{{_ "Struggling" }}</span></li>
        </ul>
    </div>
</div>
<div class="row">
	<div class="col-md-12">
		{{#if learners}}
			<div id="displaygrid">
				<div class="users-table">
					<table class="table table-bordered">
						<tbody>
							<tr>
								<th class="headrowuser">
									{{_ "Learner"}}
									{{#each contents}}
										 <th class="headrow data">
                        					<div>
                        						<a href="{{ url_learn }}{{ path }}" title='"{{_ display_name }}"{{#if description }} {{ description }}{{/if }}'>{{_ title }}</a>
                        					</div>
                    					</th>
									{{/each}}
								</th>
							</tr>
							<!-- for loop area for students -->
							{{#each learners}}
								<tr>
									<th class="username">
										<span title="{{ first_name }} {{last_name}}({{ username }})">
											<div class="student-name">
												<a href="{{ url_student_view }}?user={{ id }}">{{#ifcond first_name "||" last_name }}{{ first_name }} {{last_name}}{{else}}{{username}}{{/ifcond}}</a>
											</div>
										</span>
									</th>	
									<!--second for loop for content-->
									{{#each ../contents}}
									 	{{#withItem ../logs key=this.id}}
											{{#unless this}}
					                            <td class="status data" title="{{_ "Not Attempted" }}">

						                        {{ else }}
							                        {{#if this.complete }}
							                            <td class="status data complete" title="{{_ "Complete" }}">
							                        	{{ else }}
                                                        {{#if this.struggling }}
                                                            <td class="status data struggle" title="{{_ "Struggling" }}">
                                                        {{ else }}
                                                            <td class="status data partial" title="{{_ "Attempted" }}">
                                                        {{/if}}
							                        {{/if}}
						                    {{/unless}}
                                            </td>
					                    {{/withItem}}
									{{/each}} <!-- end inner for loop for exercises -->
								</tr>
							{{/each}} <!-- end outer for loop for students-->
						</tbody>
					</table>
					<div style="clear: both;">
					</div>
				</div>
			</div>
        {{/if}} 
	</div>
</div>